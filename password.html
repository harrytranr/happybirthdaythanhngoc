<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nh·∫≠p m·∫≠t kh·∫©u=)</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
/* Confetti effect for button */
.btn-confetti {
    position: absolute;
    pointer-events: none;
    z-index: 9999;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    opacity: 0.85;
    will-change: transform, opacity;
    animation: btn-confetti-fall 0.7s linear forwards;
}
@keyframes btn-confetti-fall {
    0% { opacity: 1; transform: translate(0,0) scale(1); }
    80% { opacity: 1; }
    100% { opacity: 0; transform: translate(var(--dx,0), var(--dy,0)) scale(0.7); }
}
@keyframes jelly {
    0% { transform: scale(1,1); }
    20% { transform: scale(1.25,0.75); }
    40% { transform: scale(0.85,1.15); }
    60% { transform: scale(1.1,0.9); }
    80% { transform: scale(0.95,1.05); }
    100% { transform: scale(1,1); }
}
        body {
            min-height: 100vh;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background: url('image/thanhngocnen.png') center/cover no-repeat fixed;
            /* C√≥ th·ªÉ thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n ·∫£nh t·∫°i ƒë√¢y */
            transition: background 0.5s;
        }
        .pw-container {
            background: rgba(255,255,255,0.7);
            border-radius: 32px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            padding: 32px 24px 24px 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 350px;
            width: 100%;
        }
        .pw-image-frame {
            width: 160px;
            height: 160px;
            border-radius: 24px;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ffb6c1, #ffe1e6, #fbc2eb, #a6c1ee);
            background-size: 200% 200%;
            animation: borderAnim 4s ease-in-out infinite alternate;
            box-shadow: 0 4px 24px 0 rgba(255,182,193,0.15);
        }
        .pw-image-frame img {
            width: 130px;
            height: 130px;
            border-radius: 16px;
            object-fit: cover;
            background: #fff;
        }
        @keyframes borderAnim {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        .pw-input {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 18px;
        }
        .pw-dot {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #fff0f6;
            border: 2px solid #ffb6c1;
            transition: background 0.2s, border 0.2s;
        }
        .pw-dot.filled {
            background: linear-gradient(135deg, #ffb6c1 60%, #fff0f6 100%);
            border: 2px solid #ff69b4;
        }
        .pw-keypad {
            display: grid;
            grid-template-columns: repeat(3, 60px);
            grid-template-rows: repeat(4, 60px);
            gap: 14px;
            margin-bottom: 18px;
        }
        .pw-key {
            background: linear-gradient(135deg, #ffb6c1 60%, #fff0f6 100%);
            border: none;
            border-radius: 18px;
            color: #fff;
            font-size: 1.6rem;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(255,182,193,0.15);
            cursor: pointer;
            transition: background 0.2s, color 0.2s, box-shadow 0.2s, transform 0.15s;
            outline: none;
            will-change: transform;
        }
        .pw-key.active {
            background: linear-gradient(135deg, #fff0f6 60%, #ffb6c1 100%);
            color: #ff69b4;
            box-shadow: 0 8px 24px 0 rgba(255,182,193,0.35), 0 2px 8px rgba(255,182,193,0.15);
            animation: jelly 0.8s cubic-bezier(.22,1.61,.36,1) both;
        }
        .pw-key.bear {
            font-size: 1.6rem;
            background: linear-gradient(135deg, #fff0f6 60%, #ffb6c1 100%);
            border: none;
            color: #ff69b4;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .pw-key.bread {
            font-size: 2.2rem;
            background: linear-gradient(135deg, #fff3e0 60%, #fbeed7 100%);
            border: 2px solid #e6d3b3;
        }
        .pw-key.enter {
            font-size: 2.2rem;
            background: linear-gradient(135deg, #fff0f6 60%, #ffb6c1 100%);
            border: none;
            color: #ff69b4;
        }
        .pw-actions {
            display: flex;
            justify-content: center;
            gap: 18px;
            margin-top: 8px;
        }
        .pw-action-btn {
            background: #fff0f6;
            border: none;
            border-radius: 12px;
            color: #ff69b4;
            font-size: 1.1rem;
            padding: 8px 18px;
            cursor: pointer;
            transition: background 0.2s, color 0.2s;
        }
        .pw-action-btn:hover {
            background: #ffb6c1;
            color: #fff;
        }
        @media (max-width: 480px) {
            .pw-container {
                max-width: 98vw;
                padding: 18px 2vw 18px 2vw;
            }
            .pw-keypad {
                grid-template-columns: repeat(3, 18vw);
                grid-template-rows: repeat(4, 18vw);
                gap: 4vw;
            }
            .pw-key {
                font-size: 1.3rem;
                border-radius: 12px;
            }
            .pw-image-frame {
                width: 110px;
                height: 110px;
            }
            .pw-image-frame img {
                width: 90px;
                height: 90px;
                border-radius: 12px;
            }
        }
    </style>
    <style>
        .pw-bg-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Dancing Script', cursive;
            font-size: 7vw;
            font-weight: 700;
            color: #fff;
            opacity: 0.12;
            z-index: 0;
            pointer-events: none;
            user-select: none;
            white-space: nowrap;
            text-shadow: 0 2px 24px #ffb6c1, 0 0 2px #fff, 0 0 8px #fff0f6;
        }
        @media (max-width: 480px) {
            .pw-bg-text {
                font-size: 10vw;
            }
        }
    </style>
</head>
<body>
    <div class="pw-container">
        <div class="pw-bg-text">Thanh Ng·ªçc</div>
        <div class="pw-image-frame">
            <img src="image/duckmemee.jpg"  id="pwAvatar">
        </div>
        <div class="pw-input" id="pwInput">
            <div class="pw-dot"></div>
            <div class="pw-dot"></div>
            <div class="pw-dot"></div>
            <div class="pw-dot"></div>
        </div>
        <div class="pw-keypad" id="pwKeypad">
            <!-- N√∫t s·ªë s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JS -->
        </div>
        <div class="pw-actions">
            <!-- N√∫t Ocee s·∫Ω ƒë∆∞·ª£c chuy·ªÉn l√™n keypad -->
        </div>
    </div>
    <audio id="pwSound" src="buttonclick.mp3" preload="auto"></audio>
    <audio id="pwWrong" src="wrong.mp3" preload="auto"></audio>
    <script>
        // Confetti effect for button
        function spawnBtnConfetti(btn) {
            const rect = btn.getBoundingClientRect();
            const btnCenterX = rect.left + rect.width/2;
            const btnCenterY = rect.top + rect.height/2;
            const parent = document.body;
            for (let i = 0; i < 12; i++) {
                const conf = document.createElement('div');
                conf.className = 'btn-confetti';
                const angle = (Math.PI * 2) * (i / 12);
                const dx = Math.cos(angle) * (24 + Math.random()*10);
                const dy = Math.sin(angle) * (24 + Math.random()*10);
                conf.style.setProperty('--dx', `${dx}px`);
                conf.style.setProperty('--dy', `${dy}px`);
                conf.style.background = `hsl(${Math.random()*360},90%,70%)`;
                conf.style.left = `${btnCenterX - 3}px`;
                conf.style.top = `${btnCenterY - 3}px`;
                parent.appendChild(conf);
                setTimeout(() => conf.remove(), 700);
            }
        }
        // C·∫•u h√¨nh m·∫≠t kh·∫©u ·ªü ƒë√¢y
        const PASSWORD = "1508";
        let input = "";
        const pwInput = document.getElementById('pwInput');
        const pwKeypad = document.getElementById('pwKeypad');
        const pwSound = document.getElementById('pwSound');
    const pwEnter = document.getElementById('pwEnter');
        const pwAvatar = document.getElementById('pwAvatar');
        // T·∫°o keypad
        const keys = [1,2,3,4,5,6,7,8,9];
        for (let i = 0; i < 9; i++) {
            const btn = document.createElement('button');
            btn.className = 'pw-key';
            btn.textContent = keys[i];
            btn.onclick = () => handleKey(keys[i]);
            btn.onmousedown = () => {
                btn.classList.remove('active');
                void btn.offsetWidth;
                btn.classList.add('active');
                spawnBtnConfetti(btn);
            };
            btn.onmouseup = () => btn.classList.remove('active');
            btn.onmouseleave = () => btn.classList.remove('active');
            btn.addEventListener('animationend', () => btn.classList.remove('active'));
            pwKeypad.appendChild(btn);
        }
        // H√†ng cu·ªëi: n√∫t 0, n√∫t x√≥a (bear), n√∫t Enter
        const zeroBtn = document.createElement('button');
        zeroBtn.className = 'pw-key';
        zeroBtn.textContent = '0';
        zeroBtn.onclick = () => handleKey(0);
        zeroBtn.onmousedown = () => {
            zeroBtn.classList.remove('active');
            void zeroBtn.offsetWidth;
            zeroBtn.classList.add('active');
            spawnBtnConfetti(zeroBtn);
        };
        zeroBtn.onmouseup = () => zeroBtn.classList.remove('active');
        zeroBtn.onmouseleave = () => zeroBtn.classList.remove('active');
        zeroBtn.addEventListener('animationend', () => zeroBtn.classList.remove('active'));
        zeroBtn.style.gridColumn = '1/2';
        zeroBtn.style.gridRow = '4/5';
        pwKeypad.appendChild(zeroBtn);

        // N√∫t x√≥a ·ªü gi·ªØa, icon panda to
        const delBtn = document.createElement('button');
        delBtn.className = 'pw-key bear';
    delBtn.innerHTML = '<span style="font-size:2rem;display:flex;align-items:center;justify-content:center;">üêº</span>';
        delBtn.onclick = function() {
            input = input.slice(0, -1);
            updateDots();
            pwSound.currentTime = 0;
            pwSound.play();
        };
        delBtn.onmousedown = () => {
            delBtn.classList.remove('active');
            void delBtn.offsetWidth;
            delBtn.classList.add('active');
            spawnBtnConfetti(delBtn);
        };
        delBtn.onmouseup = () => delBtn.classList.remove('active');
        delBtn.onmouseleave = () => delBtn.classList.remove('active');
        delBtn.addEventListener('animationend', () => delBtn.classList.remove('active'));
        delBtn.style.gridColumn = '2/3';
        delBtn.style.gridRow = '4/5';
        pwKeypad.appendChild(delBtn);

        // N√∫t Enter b√™n ph·∫£i: d√πng n√∫t Ocee ph√≠a d∆∞·ªõi
        const enterBtn = document.createElement('button');
        enterBtn.className = 'pw-key enter';
    enterBtn.innerHTML = '<span style="font-size:1.3rem;">Oke</span>';
        enterBtn.onclick = function() {
            if (input.length === 4) {
                if (input === PASSWORD) {
                    window.location.href = "happybirthday.html";
                } else {
                    const pwWrong = document.getElementById('pwWrong');
                    pwWrong.currentTime = 0;
                    pwWrong.play();
                    input = "";
                    updateDots();
                }
            }
        };
        enterBtn.onmousedown = () => {
            enterBtn.classList.remove('active');
            void enterBtn.offsetWidth;
            enterBtn.classList.add('active');
            spawnBtnConfetti(enterBtn);
        };
        enterBtn.onmouseup = () => enterBtn.classList.remove('active');
        enterBtn.onmouseleave = () => enterBtn.classList.remove('active');
        enterBtn.addEventListener('animationend', () => enterBtn.classList.remove('active'));
        enterBtn.style.gridColumn = '3/4';
        enterBtn.style.gridRow = '4/5';
        pwKeypad.appendChild(enterBtn);
        // C·∫≠p nh·∫≠t dot
        function updateDots() {
            const dots = pwInput.querySelectorAll('.pw-dot');
            dots.forEach((dot, i) => {
                if (i < input.length) {
                    dot.classList.add('filled');
                } else {
                    dot.classList.remove('filled');
                }
            });
        }
        // X·ª≠ l√Ω nh·∫≠p s·ªë
        function handleKey(num) {
            if (input.length >= 4) return;
            input += num;
            updateDots();
            pwSound.currentTime = 0;
            pwSound.play();
            // Kh√¥ng t·ª± ƒë·ªông ki·ªÉm tra, ch·ªâ ki·ªÉm tra khi nh·∫•n Enter
        }
        // Nh·∫•n Enter ƒë·ªÉ ki·ªÉm tra m·∫≠t kh·∫©u
        pwEnter.onclick = function() {
            if (input.length === 4) {
                if (input === PASSWORD) {
                    window.location.href = "happybirthday.html";
                } else {
                    const pwWrong = document.getElementById('pwWrong');
                    pwWrong.currentTime = 0;
                    pwWrong.play();
                    input = "";
                    updateDots();
                    pwInput.classList.add('shake');
                    setTimeout(() => pwInput.classList.remove('shake'), 400);
                }
            } else {
                pwSound.currentTime = 0;
                pwSound.play();
            }
        };
        // H·ªó tr·ª£ nh·∫•n ph√≠m Enter tr√™n b√†n ph√≠m th·∫≠t
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                if (input.length === 4) {
                    if (input === PASSWORD) {
                        window.location.href = "happybirthday.html";
                    } else {
                        const pwWrong = document.getElementById('pwWrong');
                        pwWrong.currentTime = 0;
                        pwWrong.play();
                        input = "";
                        updateDots();
                        pwInput.classList.add('shake');
                        setTimeout(() => pwInput.classList.remove('shake'), 400);
                    }
                } else {
                    pwSound.currentTime = 0;
                    pwSound.play();
                }
            }
        });
        // 
        pwAvatar.src = "image/duckmemee.jpg"; // Thay ƒë·ªïi ƒë∆∞·ªùng d·∫´n ·∫£nh t·∫°i ƒë√¢y
        
        function checkPassword() {
            if (input === PASSWORD) {
                window.location.href = "happybirthday.html";
            } else {
                input = "";
                updateDots();
                pwInput.classList.add('shake');
                setTimeout(() => pwInput.classList.remove('shake'), 400);
            }
        }
        // Responsive: focus input on mobile
        window.onload = updateDots;
    </script>
</body>
</html>
